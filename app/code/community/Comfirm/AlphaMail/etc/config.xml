<?xml version="1.0"?>
<config>
	<modules>
		<Comfirm_AlphaMail>
			<version>1.1.0</version>
		</Comfirm_AlphaMail>
	</modules>
	<frontend>
    		<routers>
      			<alphamail>
  				  	<use>standard</use>
					<args>
						<module>Comfirm_AlphaMail</module>
						<frontName>alphamail</frontName>
					</args>
      			</alphamail>
    		</routers>
  	</frontend>
	<global>
		<helpers>
			<alphamail><class>Comfirm_AlphaMail_Helper</class></alphamail>
		</helpers>
		<blocks>
			<alphamail>
				<class>Comfirm_AlphaMail_Block</class>
			</alphamail>
		</blocks>
		<models>
            <alphamail>
                <class>Comfirm_AlphaMail_Model</class>
				<resourceModel>alphamail_mysql4</resourceModel>
            </alphamail>
			<alphamail_mysql4>
                <class>Comfirm_AlphaMail_Model_Mysql4</class>
                <entities>
                    <event_log><table>alphamail_event_log</table></event_log>
                    <send_log><table>alphamail_send_log</table></send_log>
                    <project_map><table>alphamail_project_map</table></project_map>
                    <project><table>alphamail_project_map</table></project>
                </entities>
            </alphamail_mysql4>
			<core>
				<rewrite>
					<!--<email>Comfirm_AlphaMail_Model_Email</email>-->
					<email_template>Comfirm_AlphaMail_Model_Email_Template</email_template>
					<!--<email_template_filter>Comfirm_AlphaMail_Model_Email_Template_Filter</email_template_filter>-->
				</rewrite>
			</core>
		</models>
		<resources>
			<alphamail_setup>
				<setup>
					<module>Comfirm_AlphaMail</module>
					<class>Comfirm_AlphaMail_Model_Mysql4_Setup</class>
				</setup>
				<connection>
					<use>core_setup</use>
				</connection>
			</alphamail_setup>
			<alphamail_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </alphamail_write>
            <alphamail_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </alphamail_read>
		</resources>
	</global>
	<adminhtml>
		<layout>
			<updates>
				<alphamail>
					<file>alphamail.xml</file>
				</alphamail>
			</updates>
		</layout>
	    <menu>
            <system>
                <children>
                    <alphamail>
                        <title>AlphaMail</title>
                        <children>
                            <project translate="title" module="alphamail">
                                <title>Projects</title>
                                <action>alphamail/Project</action>
                            </project>
                            <template translate="title" module="alphamail">
                                <title>Templates</title>
                                <action>alphamail/Template</action>
                            </template>
                            <configuration translate="title" module="alphamail">
                                <title>Configuration</title>
                                <action>adminhtml/system_config/edit/section/alphamail</action>
                                <children>
		                            <projectmapping translate="title" module="alphamail">
		                                <title>Project mapping</title>
		                                <action>alphamail/ProjectMapping</action>
		                            </projectmapping>
                                </children>
                            </configuration>
                            <logging>
                                <title>Logging</title>
                                <children>
		                            <eventlog translate="title" module="alphamail">
		                                <title>Event log</title>
		                                <action>alphamail/EventLog</action>
		                            </eventlog>
	                            </children>
                            </logging>
                        </children>
                    </alphamail>
                </children>
            </system>
        </menu>
		<acl>
			<resources>
				<admin>
					<children>
						<system>
							<children>
								<config>
									<children>
										<alphamail>
											<title>AlphaMail Email Settings</title>
										</alphamail>
									</children>
								</config>
							</children>
						</system>
					</children>
				</admin>
			</resources>
		</acl>
	</adminhtml>
	<default>
		<alphamail>
			<general>
				<activated>0</activated>
			</general>
			<authentication>
				<ssl>0</ssl>
				<token></token>
			</authentication>
			<debugging>
				<debug_mode>0</debug_mode>
				<logging_mode>0</logging_mode>
			</debugging>
			<system>
				<primary_address>api.amail.io</primary_address>
				<fallback_mode>native</fallback_mode>
				<number_of_retries>3</number_of_retries>
			</system>
		</alphamail>
	</default>
</config>
